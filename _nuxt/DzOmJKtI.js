import{K as b,af as F,u as N,ag as h,R as p,ah as O,ai as z,r as x,aj as E,ak as H,O as J,E as R,al as U,X,am as Z,b as G,a4 as I}from"./j8J1k_JH.js";import{c as W}from"./LP949riR.js";const Y={trailing:!0};function L(e,a=25,c={}){if(c={...Y,...c},!Number.isFinite(a))throw new TypeError("Expected `wait` to be a finite number");let o,t,i=[],s,m;const g=(_,r)=>(s=q(e,_,r),s.finally(()=>{if(s=null,c.trailing&&m&&!t){const v=g(_,m);return m=null,v}}),s);return function(..._){return s?(c.trailing&&(m=_),s):new Promise(r=>{const v=!t&&c.leading;clearTimeout(t),t=setTimeout(()=>{t=null;const f=c.leading?o:g(this,_);for(const y of i)y(f);i=[]},a),v?(o=g(this,_),r(o)):i.push(r)})}}async function q(e,a,c){return await e.apply(a,c)}const Q=e=>e==="defer"||e===!1;function ee(...e){var y;const a=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&typeof e[0]!="object"&&!(typeof e[0]=="function"&&typeof e[1]=="function")&&e.unshift(a);let[c,o,t={}]=e;const i=b(()=>F(c));if(typeof i.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof o!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const s=N();t.server??(t.server=!0),t.default??(t.default=$),t.getCachedData??(t.getCachedData=M),t.lazy??(t.lazy=!1),t.immediate??(t.immediate=!0),t.deep??(t.deep=h.deep),t.dedupe??(t.dedupe="cancel"),t._functionName,s._asyncData[i.value];const m=t.getCachedData(i.value,s,{cause:"initial"});(y=s._asyncData[i.value])!=null&&y._init||(s._asyncData[i.value]=B(s,i.value,o,t,m));const g=s._asyncData[i.value];g._deps++;const _=()=>s._asyncData[i.value].execute({cause:"initial",dedupe:t.dedupe}),r=t.server!==!1&&s.payload.serverRendered;{let n=function(l){const d=s._asyncData[l];d!=null&&d._deps&&(d._deps--,d._deps===0&&(d==null||d._off()))};const u=X();if(u&&r&&t.immediate&&!u.sp&&(u.sp=[]),u&&!u._nuxtOnBeforeMountCbs){u._nuxtOnBeforeMountCbs=[];const l=u._nuxtOnBeforeMountCbs;Z(()=>{l.forEach(d=>{d()}),l.splice(0,l.length)}),G(()=>l.splice(0,l.length))}const j=u&&(u._nuxtClientOnly||I(W,!1));r&&s.isHydrating&&(g.error.value||m!=null)?g.status.value=g.error.value?"error":"success":u&&!j&&(s.payload.serverRendered&&s.isHydrating||t.lazy)&&t.immediate?u._nuxtOnBeforeMountCbs.push(_):t.immediate&&_();const w=U();if(t.watch){const l=p(t.watch,()=>{g._execute({cause:"watch",dedupe:t.dedupe})},{flush:"post"});w&&O(()=>l())}const S=p(i,(l,d)=>{var P,C;const T=((P=s._asyncData[d])==null?void 0:P.data.value)!==h.value;d&&n(d),(C=s._asyncData[l])!=null&&C._init||(s._asyncData[l]=B(s,l,o,t,t.getCachedData(l,s,{cause:"initial"}))),s._asyncData[l]._deps++,(t.immediate||T)&&s._asyncData[l].execute({cause:"initial",dedupe:t.dedupe})},{flush:"sync"});w&&O(()=>{S(),n(i.value)})}const v={data:D(()=>{var n;return(n=s._asyncData[i.value])==null?void 0:n.data}),pending:D(()=>{var n;return(n=s._asyncData[i.value])==null?void 0:n.pending}),status:D(()=>{var n;return(n=s._asyncData[i.value])==null?void 0:n.status}),error:D(()=>{var n;return(n=s._asyncData[i.value])==null?void 0:n.error}),refresh:(...n)=>s._asyncData[i.value].execute(...n),execute:(...n)=>s._asyncData[i.value].execute(...n),clear:()=>V(s,i.value)},f=Promise.resolve(s._asyncDataPromises[i.value]).then(()=>v);return Object.assign(f,v),f}function D(e){return b({get(){var a;return(a=e())==null?void 0:a.value},set(a){const c=e();c&&(c.value=a)}})}async function ae(e){await new Promise(c=>z(c)),await N().hooks.callHookParallel("app:data:refresh",void 0)}function V(e,a){a in e.payload.data&&(e.payload.data[a]=void 0),a in e.payload._errors&&(e.payload._errors[a]=h.errorValue),e._asyncData[a]&&(e._asyncData[a].data.value=R(e._asyncData[a]._default()),e._asyncData[a].error.value=h.errorValue,e._asyncData[a].status.value="idle"),a in e._asyncDataPromises&&(e._asyncDataPromises[a]&&(e._asyncDataPromises[a].cancelled=!0),e._asyncDataPromises[a]=void 0)}function K(e,a){const c={};for(const o of a)c[o]=e[o];return c}function B(e,a,c,o,t){var v;(v=e.payload._errors)[a]??(v[a]=h.errorValue);const i=o.getCachedData!==M,s=c,m=o.deep?x:E,g=t!=null,_=e.hook("app:data:refresh",async f=>{(!f||f.includes(a))&&await r.execute({cause:"refresh:hook"})}),r={data:m(g?t:o.default()),pending:b(()=>r.status.value==="pending"),error:H(e.payload._errors,a),status:E("idle"),execute:(f={})=>{if(e._asyncDataPromises[a]){if(Q(f.dedupe??o.dedupe))return e._asyncDataPromises[a];e._asyncDataPromises[a].cancelled=!0}{const n=f.cause==="initial"?t:o.getCachedData(a,e,{cause:f.cause??"refresh:manual"});if(n!=null)return e.payload.data[a]=r.data.value=n,r.error.value=h.errorValue,r.status.value="success",Promise.resolve(n)}r.status.value="pending";const y=new Promise((n,u)=>{try{n(s(e))}catch(j){u(j)}}).then(async n=>{if(y.cancelled)return e._asyncDataPromises[a];let u=n;o.transform&&(u=await o.transform(n)),o.pick&&(u=K(u,o.pick)),e.payload.data[a]=u,r.data.value=u,r.error.value=h.errorValue,r.status.value="success"}).catch(n=>{if(y.cancelled)return e._asyncDataPromises[a];r.error.value=J(n),r.data.value=R(o.default()),r.status.value="error"}).finally(()=>{y.cancelled||delete e._asyncDataPromises[a]});return e._asyncDataPromises[a]=y,e._asyncDataPromises[a]},_execute:L((...f)=>r.execute(...f),0,{leading:!0}),_default:o.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{_(),r._init=!1,i||(V(e,a),r.execute=()=>Promise.resolve(),r.data.value=h.value)}};return r}const $=()=>h.value,M=(e,a,c)=>{if(a.isHydrating)return a.payload.data[e];if(c.cause!=="refresh:manual"&&c.cause!=="refresh:hook")return a.static.data[e]},te={index:"v3.5.0--R7C8DozXB1DOlZJ02c6JMn8Fs1g4OMq_4HnJZbWOO2k",werk:"v3.5.0--0VKiYKvFtTNZLciDAI2r94VUNvw8dcfZzaS3SgXsuC4",pages:"v3.5.0--IYf3rQoala2g6Gfsd8U8tr_CquJPGDyguk99d0WZJro",over:"v3.5.0--vBMh9mP9v3dATf1Wz1utAc5r1E4TwwyuKehgVPktszM",contact:"v3.5.0--XYf-DcgInuwmXCdF95m-Gk2BjNn-wB4CbvSevVeebiY"},se={index:"_content_index",werk:"_content_werk",pages:"_content_pages",over:"_content_over",contact:"_content_contact",info:"_content_info"},ne={index:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",hero:"json",sections:"json",features:"json",testimonials:"json",cta:"json"}},werk:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",date:"date",image:"string",slug:"string"}},pages:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",links:"json"}},over:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",hero:"json",content:"json",images:"json"}},contact:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",hero:"json",content:"json",images:"json"}},info:{type:"data",fields:{}}};export{ne as a,te as c,ae as r,se as t,ee as u};
