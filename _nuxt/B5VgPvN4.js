import{aj as f,B as W,au as k,av as A,R as B,aw as L,K as P,ax as C,af as b,ay as S,az as j,aA as z,E as D}from"./j8J1k_JH.js";function F(e={}){const{inheritAttrs:o=!0}=e,u=f(),i=W({setup(a,{slots:r}){return()=>{u.value=r.default}}}),c=W({inheritAttrs:o,props:e.props,setup(a,{attrs:r,slots:s}){return()=>{var t;u.value;const l=(t=u.value)==null?void 0:t.call(u,{...e.props==null?I(r):a,$slots:s});return o&&(l==null?void 0:l.length)===1?l[0]:l}}});return k({define:i,reuse:c},[i,c])}function I(e){const o={};for(const u in e)o[A(u)]=e[u];return o}const T=L?window:void 0;function R(e){var o;const u=b(e);return(o=u==null?void 0:u.$el)!=null?o:u}function O(...e){const o=[],u=()=>{o.forEach(s=>s()),o.length=0},i=(s,t,l,v)=>(s.addEventListener(t,l,v),()=>s.removeEventListener(t,l,v)),c=P(()=>{const s=C(b(e[0])).filter(t=>t!=null);return s.every(t=>typeof t!="string")?s:void 0}),a=S(()=>{var s,t;return[(t=(s=c.value)==null?void 0:s.map(l=>R(l)))!=null?t:[T].filter(l=>l!=null),C(b(c.value?e[1]:e[0])),C(D(c.value?e[2]:e[1])),b(c.value?e[3]:e[2])]},([s,t,l,v])=>{if(u(),!(s!=null&&s.length)||!(t!=null&&t.length)||!(l!=null&&l.length))return;const m=z(v)?{...v}:v;o.push(...s.flatMap(p=>t.flatMap(d=>l.map(h=>i(p,d,h,m)))))},{flush:"post"}),r=()=>{a(),u()};return j(u),r}const K={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function V(e={}){const{type:o="page",touch:u=!0,resetOnTouchEnds:i=!1,initialValue:c={x:0,y:0},window:a=T,target:r=a,scroll:s=!0,eventFilter:t}=e;let l=null,v=0,m=0;const p=f(c.x),d=f(c.y),h=f(null),y=typeof o=="function"?o:K[o],E=n=>{const x=y(n);l=n,x&&([p.value,d.value]=x,h.value="mouse"),a&&(v=a.scrollX,m=a.scrollY)},g=n=>{if(n.touches.length>0){const x=y(n.touches[0]);x&&([p.value,d.value]=x,h.value="touch")}},M=()=>{if(!l||!a)return;const n=y(l);l instanceof MouseEvent&&n&&(p.value=n[0]+a.scrollX-v,d.value=n[1]+a.scrollY-m)},H=()=>{p.value=c.x,d.value=c.y},X=t?n=>t(()=>E(n),{}):n=>E(n),Y=t?n=>t(()=>g(n),{}):n=>g(n),w=t?()=>t(()=>M(),{}):()=>M();if(r){const n={passive:!0};O(r,["mousemove","dragover"],X,n),u&&o!=="movement"&&(O(r,["touchstart","touchmove"],Y,n),i&&O(r,"touchend",H,n)),s&&o==="page"&&O(a,"scroll",w,n)}return{x:p,y:d,sourceType:h}}function U(e,o={}){const{handleOutside:u=!0,window:i=T}=o,c=o.type||"page",{x:a,y:r,sourceType:s}=V(o),t=f(e??(i==null?void 0:i.document.body)),l=f(0),v=f(0),m=f(0),p=f(0),d=f(0),h=f(0),y=f(!0);let E=()=>{};return i&&(E=B([t,a,r],()=>{const g=R(t);if(!g||!(g instanceof Element))return;const{left:M,top:H,width:X,height:Y}=g.getBoundingClientRect();m.value=M+(c==="page"?i.pageXOffset:0),p.value=H+(c==="page"?i.pageYOffset:0),d.value=Y,h.value=X;const w=a.value-m.value,n=r.value-p.value;y.value=X===0||Y===0||w<0||n<0||w>X||n>Y,(u||!y.value)&&(l.value=w,v.value=n)},{immediate:!0}),O(document,"mouseleave",()=>y.value=!0,{passive:!0})),{x:a,y:r,sourceType:s,elementX:l,elementY:v,elementPositionX:m,elementPositionY:p,elementHeight:d,elementWidth:h,isOutside:y,stop:E}}export{F as c,U as u};
