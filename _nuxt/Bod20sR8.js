import{ah as p,Z as W,aC as R,aD as k,L as D,aE as I,C as P,aF as b,ad as H,aG as S,aH as A,aI as B,J as F}from"./DRjDKpN5.js";function G(e={}){const{inheritAttrs:o=!0}=e,u=p(),i=W({setup(a,{slots:r}){return()=>{u.value=r.default}}}),c=W({inheritAttrs:o,props:e.props,setup(a,{attrs:r,slots:s}){return()=>{var t;u.value;const l=(t=u.value)==null?void 0:t.call(u,{...e.props==null?V(r):a,$slots:s});return o&&(l==null?void 0:l.length)===1?l[0]:l}}});return R({define:i,reuse:c},[i,c])}function V(e){const o={};for(const u in e)o[k(u)]=e[u];return o}const T=I?window:void 0;function L(e){var o;const u=H(e);return(o=u==null?void 0:u.$el)!=null?o:u}function x(...e){const o=[],u=()=>{o.forEach(s=>s()),o.length=0},i=(s,t,l,v)=>(s.addEventListener(t,l,v),()=>s.removeEventListener(t,l,v)),c=P(()=>{const s=b(H(e[0])).filter(t=>t!=null);return s.every(t=>typeof t!="string")?s:void 0}),a=S(()=>{var s,t;return[(t=(s=c.value)==null?void 0:s.map(l=>L(l)))!=null?t:[T].filter(l=>l!=null),b(H(c.value?e[1]:e[0])),b(F(c.value?e[2]:e[1])),H(c.value?e[3]:e[2])]},([s,t,l,v])=>{if(u(),!(s!=null&&s.length)||!(t!=null&&t.length)||!(l!=null&&l.length))return;const m=B(v)?{...v}:v;o.push(...s.flatMap(f=>t.flatMap(d=>l.map(h=>i(f,d,h,m)))))},{flush:"post"}),r=()=>{a(),u()};return A(u),r}const $={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function j(e={}){const{type:o="page",touch:u=!0,resetOnTouchEnds:i=!1,initialValue:c={x:0,y:0},window:a=T,target:r=a,scroll:s=!0,eventFilter:t}=e;let l=null,v=0,m=0;const f=p(c.x),d=p(c.y),h=p(null),y=typeof o=="function"?o:$[o],E=n=>{const w=y(n);l=n,w&&([f.value,d.value]=w,h.value="mouse"),a&&(v=a.scrollX,m=a.scrollY)},g=n=>{if(n.touches.length>0){const w=y(n.touches[0]);w&&([f.value,d.value]=w,h.value="touch")}},C=()=>{if(!l||!a)return;const n=y(l);l instanceof MouseEvent&&n&&(f.value=n[0]+a.scrollX-v,d.value=n[1]+a.scrollY-m)},M=()=>{f.value=c.x,d.value=c.y},X=t?n=>t(()=>E(n),{}):n=>E(n),Y=t?n=>t(()=>g(n),{}):n=>g(n),O=t?()=>t(()=>C(),{}):()=>C();if(r){const n={passive:!0};x(r,["mousemove","dragover"],X,n),u&&o!=="movement"&&(x(r,["touchstart","touchmove"],Y,n),i&&x(r,"touchend",M,n)),s&&o==="page"&&x(a,"scroll",O,n)}return{x:f,y:d,sourceType:h}}function J(e,o={}){const{handleOutside:u=!0,window:i=T}=o,c=o.type||"page",{x:a,y:r,sourceType:s}=j(o),t=p(e??(i==null?void 0:i.document.body)),l=p(0),v=p(0),m=p(0),f=p(0),d=p(0),h=p(0),y=p(!0);let E=()=>{};return i&&(E=D([t,a,r],()=>{const g=L(t);if(!g||!(g instanceof Element))return;const{left:C,top:M,width:X,height:Y}=g.getBoundingClientRect();m.value=C+(c==="page"?i.pageXOffset:0),f.value=M+(c==="page"?i.pageYOffset:0),d.value=Y,h.value=X;const O=a.value-m.value,n=r.value-f.value;y.value=X===0||Y===0||O<0||n<0||O>X||n>Y,(u||!y.value)&&(l.value=O,v.value=n)},{immediate:!0}),x(document,"mouseleave",()=>y.value=!0,{passive:!0})),{x:a,y:r,sourceType:s,elementX:l,elementY:v,elementPositionX:m,elementPositionY:f,elementHeight:d,elementWidth:h,isOutside:y,stop:E}}export{G as c,J as u};
